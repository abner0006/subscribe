name: ä¸€é”®å¯åŠ¨æ‰€æœ‰å·¥ä½œæµ ğŸš€
on:
  workflow_dispatch: 

jobs:
  trigger-all-workflows:
    runs-on: ubuntu-latest
    permissions:
      actions: write 

    steps:
      - name: è§¦å‘å·¥ä½œæµ
        run: |
          workflows=(
            "blacklist10.yml"
            "blacklist20.yml"
            "blacklist30.yml"
            "freetv.yml"
            "main.yml"
            "main1.yml"
            "main2.yml"
            "main3.yml"
            "main3-1.yml"
            "simple.yml"
            "Simplified.yml"
            "snapshot.yml"
            "special.yml"
            "update_live0.yml"
          )

          for workflow in "${workflows[@]}"; do
            echo "è§¦å‘å·¥ä½œæµ: $workflow"
            curl -X POST \
              -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
              -H "Accept: application/vnd.github.v3+json" \
              "https://api.github.com/repos/${{ github.repository }}/actions/workflows/${workflow}/dispatches" \
              -d '{"ref":"main"}'
            sleep 600  # å»¶è¿Ÿ10åˆ†é’Ÿï¼ˆ600ç§’ï¼‰å¯åŠ¨ä¸‹ä¸€ä¸ªå·¥ä½œæµ
          done
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} 
