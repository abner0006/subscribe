name: 一键启动所有工作流 🚀
on:
  workflow_dispatch: 

jobs:
  trigger-all-workflows:
    runs-on: ubuntu-latest
    permissions:
      actions: write 

    steps:
      - name: 触发工作流
        run: |
          workflows=(
            "blacklist10.yml"
            "blacklist20.yml"
            "blacklist30.yml"
            "freetv.yml"
            "main.yml"
            "main1.yml"
            "main2.yml"
            "main3.yml"
            "main3-1.yml"
            "simple.yml"
            "Simplified.yml"
            "snapshot.yml"
            "special.yml"
            "update_live0.yml"
          )

          for workflow in "${workflows[@]}"; do
            echo "触发工作流: $workflow"
            curl -X POST \
              -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
              -H "Accept: application/vnd.github.v3+json" \
              "https://api.github.com/repos/${{ github.repository }}/actions/workflows/${workflow}/dispatches" \
              -d '{"ref":"main"}'
            sleep 600  # 延迟10分钟（600秒）启动下一个工作流
          done
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} 
